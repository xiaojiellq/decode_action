const _0x5d9ef0=_0x154b;(function(_0x37904f,_0x323844){const _0x2410c9=_0x154b,_0x35a44b=_0x37904f();while(!![]){try{const _0x3ed666=-parseInt(_0x2410c9(0x106))/0x1*(parseInt(_0x2410c9(0x1ab))/0x2)+parseInt(_0x2410c9(0x199))/0x3+-parseInt(_0x2410c9(0x10e))/0x4+parseInt(_0x2410c9(0x1c8))/0x5+parseInt(_0x2410c9(0xfa))/0x6*(parseInt(_0x2410c9(0x132))/0x7)+parseInt(_0x2410c9(0x1d7))/0x8+parseInt(_0x2410c9(0x1d8))/0x9;if(_0x3ed666===_0x323844)break;else _0x35a44b['push'](_0x35a44b['shift']());}catch(_0x1adff5){_0x35a44b['push'](_0x35a44b['shift']());}}}(_0x1d4b,0xf002e));const request=require(_0x5d9ef0(0x135)),querystring=require(_0x5d9ef0(0x176)),{SocksProxyAgent}=require(_0x5d9ef0(0x12f));process[_0x5d9ef0(0x16b)]=!![];(!process[_0x5d9ef0(0xe4)]['km']||process[_0x5d9ef0(0xe4)]['km']['trim']()==='')&&(console[_0x5d9ef0(0x13a)]('❌\x20未检测到\x20km\x20环境变量，请先在环境变量中新增\x20km\x20变量（极速版卡密）'),process[_0x5d9ef0(0x15e)](0x1));function getRandomAdWatchingStatus(){const _0x485724=_0x5d9ef0,_0x469f14=[_0x485724(0xca),'认真观看中...','浏览广告内容','模拟用户行为',_0x485724(0x152),_0x485724(0x1c6),_0x485724(0x1d3),_0x485724(0x17e)];return _0x469f14[Math[_0x485724(0xf0)](Math[_0x485724(0xc6)]()*_0x469f14['length'])];}const isDevMode=process[_0x5d9ef0(0xe4)][_0x5d9ef0(0x1eb)]==='1'||process[_0x5d9ef0(0xe4)][_0x5d9ef0(0x1eb)]===_0x5d9ef0(0xe6);function getTasksToExecute(){const _0x4131fb=_0x5d9ef0,_0x24c08a=process[_0x4131fb(0xe4)][_0x4131fb(0xdf)];if(!_0x24c08a)return console[_0x4131fb(0x13a)]('未设置Task环境变量，将执行所有任务\x20(food,\x20box,\x20look)'),[_0x4131fb(0x197),_0x4131fb(0x1f1),_0x4131fb(0x130)];const _0x1386e9=_0x24c08a['split'](',')[_0x4131fb(0xde)](_0x1cc49c=>_0x1cc49c[_0x4131fb(0x15d)]()[_0x4131fb(0xc9)]())['filter'](Boolean),_0x2c722e=[_0x4131fb(0x197),_0x4131fb(0x1f1),'look'],_0x810222=_0x1386e9[_0x4131fb(0x187)](_0x3ef45c=>_0x2c722e[_0x4131fb(0x1b6)](_0x3ef45c));if(_0x810222[_0x4131fb(0x192)]===0x0)return console[_0x4131fb(0x13a)]('Task环境变量中没有有效任务，将执行所有任务\x20(food,\x20box,\x20look)'),[_0x4131fb(0x197),_0x4131fb(0x1f1),'look'];return console[_0x4131fb(0x13a)]('从Task环境变量中解析到要执行的任务:\x20'+_0x810222[_0x4131fb(0x190)](',\x20')),_0x810222;}function parseAccountString(_0x254258){const _0x16f393=_0x5d9ef0,_0x510933=String(_0x254258||'')[_0x16f393(0x15d)]()[_0x16f393(0x126)]('#');if(_0x510933[_0x16f393(0x192)]<0x2)return null;const _0x24bde9=_0x510933[0x0],_0x112fd8=_0x510933[_0x16f393(0x194)](0x1,_0x510933['length']-(_0x510933[_0x16f393(0x192)]>=0x3?0x1:0x0))[_0x16f393(0x190)]('#');let _0x259780=null;if(_0x510933[_0x16f393(0x192)]>=0x3){const _0x370339=_0x510933[_0x510933['length']-0x1][_0x16f393(0x15d)]();if(_0x370339[_0x16f393(0x1b6)]('|')){console[_0x16f393(0x13a)]('开始解析代理格式:\x20'+_0x370339);const _0x7a2a13=_0x370339[_0x16f393(0x126)]('|');if(_0x7a2a13['length']>=0x2){const [_0x508d7b,_0x1e7299,_0x238636,_0x371d46]=_0x7a2a13;_0x259780='socks5://'+_0x238636+':'+_0x371d46+'@'+_0x508d7b+':'+_0x1e7299;}}else/^socks5:\/\/.+/i['test'](_0x370339)&&(_0x259780=_0x370339);!_0x259780&&console[_0x16f393(0x13a)](_0x16f393(0xe8)+_0x370339);}return{'salt':_0x112fd8,'cookie':_0x24bde9,'proxyUrl':_0x259780};}function loadAccountsFromEnv(){const _0x2a9fba=_0x5d9ef0,_0x407365=[],_0x37c4c1=new Set();let _0x3c0a07=0x0;const _0x116363=parseInt(process[_0x2a9fba(0xe4)][_0x2a9fba(0x12c)]||_0x2a9fba(0x118),0xa)||0x29a;console[_0x2a9fba(0x13a)](_0x2a9fba(0xe2)+_0x116363+'\x20环境变量...');for(let _0x297f14=0x1;_0x297f14<=_0x116363;_0x297f14++){const _0x9a52c6=_0x2a9fba(0x1a3)+_0x297f14,_0x299b21=process['env'][_0x9a52c6];if(_0x299b21){const _0x275ec4=_0x299b21[_0x2a9fba(0x15d)]();if(!_0x37c4c1[_0x2a9fba(0x145)](_0x275ec4)){const _0x42baa9=parseAccountString(_0x275ec4);_0x42baa9?(_0x42baa9[_0x2a9fba(0x104)]=++_0x3c0a07,_0x42baa9[_0x2a9fba(0xb6)]=_0x9a52c6,_0x407365[_0x2a9fba(0x137)](_0x42baa9),_0x37c4c1[_0x2a9fba(0x1f7)](_0x275ec4)):console[_0x2a9fba(0x13a)](_0x2a9fba(0x1ed)+_0x9a52c6+_0x2a9fba(0x10c)+_0x275ec4);}else console['log']('⚠️\x20'+_0x9a52c6+_0x2a9fba(0x13f)+_0x275ec4);}}const _0x343ef5=process[_0x2a9fba(0xe4)][_0x2a9fba(0x1a3)];if(_0x343ef5){console[_0x2a9fba(0x13a)]('检测到\x20ksck\x20环境变量，解析中...');const _0x3d7d16=_0x343ef5[_0x2a9fba(0x126)]('&')['map'](_0x3bc5a6=>_0x3bc5a6['trim']())[_0x2a9fba(0x187)](Boolean);console[_0x2a9fba(0x13a)](_0x2a9fba(0xbb)+_0x3d7d16[_0x2a9fba(0x192)]+_0x2a9fba(0x160));for(const _0x33794b of _0x3d7d16){if(!_0x37c4c1['has'](_0x33794b)){const _0x43f9a8=parseAccountString(_0x33794b);_0x43f9a8?(_0x43f9a8[_0x2a9fba(0x104)]=++_0x3c0a07,_0x43f9a8[_0x2a9fba(0xb6)]=_0x2a9fba(0x1a3),_0x407365[_0x2a9fba(0x137)](_0x43f9a8),_0x37c4c1[_0x2a9fba(0x1f7)](_0x33794b)):console[_0x2a9fba(0x13a)](_0x2a9fba(0x11e)+_0x33794b);}else console['log'](_0x2a9fba(0x11a)+_0x33794b);}}return _0x407365[_0x2a9fba(0x192)]===0x0?console[_0x2a9fba(0x13a)](_0x2a9fba(0x1a8)+_0x116363+'）'):console[_0x2a9fba(0x13a)](_0x2a9fba(0x103)+_0x407365[_0x2a9fba(0x192)]+_0x2a9fba(0x16f)),_0x407365;}const loadedAccounts=loadAccountsFromEnv(),accountCount=loadedAccounts['length'],tasksToExecute=getTasksToExecute(),COIN_LIMIT=parseInt(process['env'][_0x5d9ef0(0x1f6)]||'500000',0xa)||0x7a120,MAX_ROUNDS=parseInt(process['env'][_0x5d9ef0(0x14d)]||'50',0xa)||0x23,LOW_REWARD_THRESHOLD=parseInt(process['env'][_0x5d9ef0(0x178)]||'10',0xa)||0xa,LOW_REWARD_LIMIT=parseInt(process[_0x5d9ef0(0xe4)]['LOW_REWARD_LIMIT']||'3',0xa)||0x3;console[_0x5d9ef0(0x13a)]('================================================================================'),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0x1be)),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0x173)),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0xff)),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0xd9)+accountCount+_0x5d9ef0(0x17f)),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0x14f)+tasksToExecute[_0x5d9ef0(0x190)](',\x20')),console[_0x5d9ef0(0x13a)](_0x5d9ef0(0x142)+COIN_LIMIT+_0x5d9ef0(0x18c)+(process[_0x5d9ef0(0xe4)][_0x5d9ef0(0x1f6)]||'默认')+_0x5d9ef0(0x14e)+MAX_ROUNDS+_0x5d9ef0(0xb8)+(process[_0x5d9ef0(0xe4)][_0x5d9ef0(0x14d)]||'默认')+_0x5d9ef0(0x15f)+LOW_REWARD_THRESHOLD+_0x5d9ef0(0x10d)+(process['env'][_0x5d9ef0(0x178)]||'默认')+')，低奖励上限\x20'+LOW_REWARD_LIMIT+'\x20次（LOW_REWARD_LIMIT='+(process[_0x5d9ef0(0xe4)][_0x5d9ef0(0x11f)]||'默认')+')]');function _0x154b(_0x45aed3,_0x242dba){const _0x1d4b12=_0x1d4b();return _0x154b=function(_0x154b81,_0x1da1ab){_0x154b81=_0x154b81-0xb0;let _0x7732d=_0x1d4b12[_0x154b81];return _0x7732d;},_0x154b(_0x45aed3,_0x242dba);}accountCount>(process[_0x5d9ef0(0xe4)][_0x5d9ef0(0xd5)]||0x3e7)&&(console[_0x5d9ef0(0x13a)](_0x5d9ef0(0x101)+accountCount+_0x5d9ef0(0x1d0)+(process[_0x5d9ef0(0xe4)][_0x5d9ef0(0xd5)]||0x3e7)+'个'),process['exit'](0x1));const SIGN_API_BASE_URL=_0x5d9ef0(0x195),SIGN_API_ENDPOINT=SIGN_API_BASE_URL+'/proxySign',QUEUE_STATUS_ENDPOINT=SIGN_API_BASE_URL+_0x5d9ef0(0x162);function generateDid(){const _0x1ef445=_0x5d9ef0;try{const _0x3c9a51=_0x5acfa7=>{const _0xbb580=_0x154b,_0x582702=_0xbb580(0x156);let _0x19ddf5='';for(let _0x4fbb55=0x0;_0x4fbb55<_0x5acfa7;_0x4fbb55++){_0x19ddf5+=_0x582702[_0xbb580(0x19d)](Math[_0xbb580(0xf0)](Math[_0xbb580(0xc6)]()*_0x582702['length']));}return _0x19ddf5;},_0x407768=_0x3c9a51(0x10),_0x1d6b4b=_0x1ef445(0x18a)+_0x407768;return _0x1d6b4b;}catch(_0x533804){console['log']('生成did失败:\x20'+_0x533804[_0x1ef445(0x1e6)]);const _0x434b36=Date[_0x1ef445(0xf7)]()[_0x1ef445(0x1cf)](0x10)['toUpperCase']();return'ANDROID_'+_0x434b36[_0x1ef445(0xbe)](0x0,0x10);}}async function makeRequest(_0x117eb6,_0x195823=null,_0x1f0db8=_0x5d9ef0(0x109)){const _0x33ebd2=_0x5d9ef0,_0x8881bf={..._0x117eb6};if(_0x195823)try{_0x8881bf[_0x33ebd2(0x174)]=new SocksProxyAgent(_0x195823);if(isDevMode)console[_0x33ebd2(0x13a)](_0x33ebd2(0xcf)+_0x1f0db8+_0x33ebd2(0x165)+_0x195823);}catch(_0x3ce0ea){console[_0x33ebd2(0x13a)](_0x33ebd2(0x1b0)+_0x1f0db8+_0x33ebd2(0x1c1)+_0x3ce0ea['message']+')，尝试直连模式');if(isDevMode)console[_0x33ebd2(0x13a)]('[调试]\x20代理无效，自动切换到直连模式');}else isDevMode&&console[_0x33ebd2(0x13a)]('[调试]\x20未配置代理，使用直连模式');if(isDevMode){const _0x55d00f=_0x8881bf[_0x33ebd2(0xc3)]||_0x33ebd2(0x1cb);console['log'](_0x33ebd2(0xcf)+_0x1f0db8+_0x33ebd2(0x17b)+_0x55d00f+'\x20'+_0x8881bf['url']);}return new Promise(_0x466d4d=>{request(_0x8881bf,(_0x5387cf,_0x1ab261,_0x11f539)=>{const _0x5ba384=_0x154b;if(_0x5387cf)return _0x5387cf[_0x5ba384(0x124)]===_0x5ba384(0x128)&&Array[_0x5ba384(0xe5)](_0x5387cf[_0x5ba384(0xdb)])?console[_0x5ba384(0x13a)](_0x5ba384(0xcf)+_0x1f0db8+'\x20请求错误:\x20AggregateError\x0a'+_0x5387cf[_0x5ba384(0xdb)][_0x5ba384(0xde)]((_0x49d32e,_0x10bd45)=>_0x5ba384(0x18d)+_0x10bd45+']\x20'+(_0x49d32e?.[_0x5ba384(0x1e6)]||_0x49d32e))[_0x5ba384(0x190)]('\x0a')):console[_0x5ba384(0x13a)]('[调试]\x20'+_0x1f0db8+_0x5ba384(0x1d6)+(_0x5387cf[_0x5ba384(0x1e6)]||String(_0x5387cf))),_0x466d4d(null);if(!_0x1ab261||_0x1ab261[_0x5ba384(0xc8)]!==0xc8){const _0x59af3f=_0x1ab261?_0x1ab261[_0x5ba384(0xc8)]:'无响应';return console['log']('[调试]\x20'+_0x1f0db8+_0x5ba384(0x171)+_0x59af3f),_0x466d4d(null);}try{_0x466d4d(JSON[_0x5ba384(0x1db)](_0x11f539));}catch{_0x466d4d(_0x11f539);}});});}async function testProxyConnection(_0x1684e7,_0x380973='代理连通性检测'){const _0x545232=_0x5d9ef0;if(!_0x1684e7)return{'ok':!![],'msg':'✅\x20未配置代理（直连模式）','ip':'localhost'};const _0x320343=await makeRequest({'method':_0x545232(0x1cb),'url':_0x545232(0xb1),'headers':{'User-Agent':_0x545232(0x1e7)},'timeout':0x1f40},_0x1684e7,_0x380973+'\x20→\x20ipinfo.io');if(!_0x320343)return{'ok':![],'msg':_0x545232(0x19e),'ip':''};const _0x1c244b=_0x320343['ip']||_0x320343['ip_address']||'';return{'ok':!![],'msg':_0x545232(0x161)+(_0x1c244b||'未知'),'ip':_0x1c244b||'未知'};}const usedProxyIps=new Set();async function getAccountBasicInfo(_0x31b911,_0x1cbda0,_0x18f381='?'){const _0x8bf7e3=_0x5d9ef0,_0x3ceb36=_0x8bf7e3(0xb7),_0x48be48=await makeRequest({'method':'GET','url':_0x3ceb36,'headers':{'Host':'nebula.kuaishou.com','User-Agent':_0x8bf7e3(0x151),'Cookie':_0x31b911,'Content-Type':'application/x-www-form-urlencoded'},'timeout':0x2ee0},_0x1cbda0,_0x8bf7e3(0x121)+_0x18f381+_0x8bf7e3(0x1c3));if(_0x48be48&&_0x48be48[_0x8bf7e3(0x149)]===0x1&&_0x48be48[_0x8bf7e3(0x143)])return{'nickname':_0x48be48['data'][_0x8bf7e3(0xf5)]?.[_0x8bf7e3(0xb5)]||null,'totalCoin':_0x48be48[_0x8bf7e3(0x143)]['totalCoin']??null,'allCash':_0x48be48['data'][_0x8bf7e3(0xbc)]??null};return null;}function centerAlignText(_0x52a2c0,_0x5787b9){const _0x3df3fa=_0x5d9ef0;_0x52a2c0=String(_0x52a2c0);if(_0x52a2c0['length']>=_0x5787b9)return _0x52a2c0[_0x3df3fa(0xbe)](0x0,_0x5787b9);const _0x357ed6=_0x5787b9-_0x52a2c0['length'],_0x1e676f=Math[_0x3df3fa(0xf0)](_0x357ed6/0x2),_0x16f04d=_0x357ed6-_0x1e676f;return'\x20'[_0x3df3fa(0x1bf)](_0x1e676f)+_0x52a2c0+'\x20'[_0x3df3fa(0x1bf)](_0x16f04d);}class KuaishouAccount{constructor({index:_0x5c50ed,salt:_0x24c7d9,cookie:_0x1b606e,nickname:nickname='',proxyUrl:proxyUrl=null,tasksToExecute:tasksToExecute=[_0x5d9ef0(0x197),'box',_0x5d9ef0(0x130)]}){const _0x1f2dca=_0x5d9ef0;this[_0x1f2dca(0x104)]=_0x5c50ed,this[_0x1f2dca(0x108)]=_0x24c7d9,this[_0x1f2dca(0x123)]=_0x1b606e,this[_0x1f2dca(0xb5)]=nickname||'账号'+_0x5c50ed,this[_0x1f2dca(0x1e1)]=proxyUrl,this[_0x1f2dca(0x12d)]=COIN_LIMIT,this[_0x1f2dca(0x1e3)]=LOW_REWARD_THRESHOLD,this['lowRewardLimit']=LOW_REWARD_LIMIT,this[_0x1f2dca(0xd4)]=![],this[_0x1f2dca(0xbd)]=tasksToExecute,this[_0x1f2dca(0x1b4)](),this[_0x1f2dca(0x18f)]={'Host':_0x1f2dca(0xd8),'Connection':_0x1f2dca(0x1a7),'User-Agent':_0x1f2dca(0xc4),'Cookie':this['cookie'],'content-type':_0x1f2dca(0xcd)},this[_0x1f2dca(0x1ae)]='/rest/r/ad/task/report',this['startTime']=Date['now'](),this[_0x1f2dca(0x115)]=this[_0x1f2dca(0x1ba)]-0x7530,this['queryParams']=_0x1f2dca(0xcc)+this[_0x1f2dca(0xda)]+'&egid='+this[_0x1f2dca(0x14c)]+_0x1f2dca(0x111)+this[_0x1f2dca(0x17c)],this['taskConfigs']={'box':{'name':_0x1f2dca(0x158),'businessId':0x25e,'posId':0x4f7a,'subPageId':0x5f63f00,'requestSceneType':0x1,'taskType':0x1},'look':{'name':_0x1f2dca(0x148),'businessId':0x2a0,'posId':0x5e03,'subPageId':0x5f647ff,'requestSceneType':0x1,'taskType':0x1},'food':{'name':_0x1f2dca(0xba),'businessId':0x2492,'posId':0x5e03,'subPageId':0x5f647ff,'requestSceneType':0x7,'taskType':0x2}},this[_0x1f2dca(0x186)]={},this[_0x1f2dca(0xbd)]['forEach'](_0x394a13=>{const _0x2aadb2=_0x1f2dca;this[_0x2aadb2(0xc0)][_0x394a13]&&(this[_0x2aadb2(0x186)][_0x394a13]={'success':0x0,'failed':0x0,'totalReward':0x0});}),this[_0x1f2dca(0xe7)]=0x0,this[_0x1f2dca(0x1a1)]=![],this[_0x1f2dca(0x125)]={},this['tasksToExecute'][_0x1f2dca(0x1dc)](_0x3673c7=>{const _0x59a5eb=_0x1f2dca;this[_0x59a5eb(0xc0)][_0x3673c7]&&(this[_0x59a5eb(0x125)][_0x3673c7]=![]);});}async[_0x5d9ef0(0x1e9)](){const _0x8969b5=_0x5d9ef0;try{const _0x16248c=await getAccountBasicInfo(this[_0x8969b5(0x123)],this['proxyUrl'],this['index']);if(_0x16248c&&_0x16248c[_0x8969b5(0x16c)]){const _0x5177b9=parseInt(_0x16248c[_0x8969b5(0x16c)]);if(_0x5177b9>=this[_0x8969b5(0x12d)])return console['log'](_0x8969b5(0x180)+this[_0x8969b5(0xb5)]+']\x20金币已达\x20'+_0x5177b9+'，超过\x20'+this[_0x8969b5(0x12d)]+_0x8969b5(0x1aa)+(process[_0x8969b5(0xe4)][_0x8969b5(0x1f6)]||_0x8969b5(0x166))+')]'),this['coinExceeded']=!![],this[_0x8969b5(0x1a1)]=!![],!![];}return![];}catch(_0x49d5c8){return console[_0x8969b5(0x13a)](_0x8969b5(0x121)+this[_0x8969b5(0xb5)]+']\x20金币检查异常:\x20'+_0x49d5c8[_0x8969b5(0x1e6)]),![];}}[_0x5d9ef0(0x1b4)](){const _0x37dbf3=_0x5d9ef0;try{const _0x5432d4=this['cookie']['match'](/egid=([^;]+)/),_0x47ee55=this[_0x37dbf3(0x123)][_0x37dbf3(0x1b5)](/did=([^;]+)/),_0x301262=this['cookie']['match'](/userId=([^;]+)/),_0x1b80a8=this[_0x37dbf3(0x123)][_0x37dbf3(0x1b5)](/kuaishou\.api_st=([^;]+)/),_0xdceae2=this[_0x37dbf3(0x123)][_0x37dbf3(0x1b5)](/appver=([^;]+)/);this[_0x37dbf3(0x14c)]=_0x5432d4?_0x5432d4[0x1]:'',this[_0x37dbf3(0x17c)]=_0x47ee55?_0x47ee55[0x1]:'',this[_0x37dbf3(0x144)]=_0x301262?_0x301262[0x1]:'',this[_0x37dbf3(0x1ea)]=_0x1b80a8?_0x1b80a8[0x1]:'',this[_0x37dbf3(0xda)]=_0xdceae2?_0xdceae2[0x1]:_0x37dbf3(0x153),(!this['egid']||!this[_0x37dbf3(0x17c)])&&console[_0x37dbf3(0x13a)](_0x37dbf3(0x121)+this[_0x37dbf3(0xb5)]+_0x37dbf3(0x172));}catch(_0x2a20ab){console['log'](_0x37dbf3(0x121)+this[_0x37dbf3(0xb5)]+_0x37dbf3(0x157)+_0x2a20ab[_0x37dbf3(0x1e6)]);}}[_0x5d9ef0(0xfb)](){const _0x21bbef=_0x5d9ef0;return this[_0x21bbef(0x186)];}[_0x5d9ef0(0x114)](){const _0x2c4632=_0x5d9ef0;console[_0x2c4632(0x13a)]('\x0a账号['+this[_0x2c4632(0xb5)]+_0x2c4632(0x1b3));for(const [_0x588eda,_0x3bf784]of Object[_0x2c4632(0x1da)](this[_0x2c4632(0x186)])){const _0x1d57b1=this['taskConfigs'][_0x588eda][_0x2c4632(0x124)];console[_0x2c4632(0x13a)]('\x20\x20'+_0x1d57b1+':\x20成功'+_0x3bf784[_0x2c4632(0x141)]+_0x2c4632(0x1af)+_0x3bf784[_0x2c4632(0xfc)]+_0x2c4632(0x15c)+_0x3bf784[_0x2c4632(0x1ad)]+'金币');}}async[_0x5d9ef0(0x170)](_0x417415,_0x121d4a,_0xff6db5=0x3,_0x4ca650=0x7d0){const _0x231fa6=_0x5d9ef0;let _0x41d355=0x0,_0x1ef63d=null;while(_0x41d355<_0xff6db5){try{const _0x5393b3=await _0x417415();if(_0x5393b3)return _0x5393b3;_0x1ef63d=new Error(_0x121d4a+'\x20返回空结果');}catch(_0x5e7a13){_0x1ef63d=_0x5e7a13,console[_0x231fa6(0x13a)](_0x231fa6(0x121)+this[_0x231fa6(0xb5)]+']\x20'+_0x121d4a+'\x20异常:\x20'+_0x5e7a13[_0x231fa6(0x1e6)]);}_0x41d355++,_0x41d355<_0xff6db5&&(console[_0x231fa6(0x13a)](_0x231fa6(0x121)+this[_0x231fa6(0xb5)]+']\x20'+_0x121d4a+_0x231fa6(0x19a)+_0x41d355+'/'+_0xff6db5),await new Promise(_0x2d0a0a=>setTimeout(_0x2d0a0a,_0x4ca650)));}return isDevMode&&_0x1ef63d&&console['log'](_0x231fa6(0xcf)+_0x121d4a+_0x231fa6(0x1ee)+_0x1ef63d[_0x231fa6(0x1e6)]),null;}async[_0x5d9ef0(0x1dd)](_0x410b18){const _0x5478a2=_0x5d9ef0;try{const _0x18f08b=_0x5478a2(0x16a),_0x1e4495={'encData':_0x5478a2(0x17a),'sign':'|sign|','cs':_0x5478a2(0x134),'client_key':'2ac2a76d','videoModelCrowdTag':_0x5478a2(0xce),'os':_0x5478a2(0x12e),'kuaishou.api_st':this[_0x5478a2(0x1ea)],'uQaTag':'1##swLdgl:99#ecPp:-9#cmNt:-0#cmHs:-3#cmMnsl:-0'},_0x4f59ac={'earphoneMode':'1','mod':_0x5478a2(0x10f),'appver':this[_0x5478a2(0xda)],'isp':_0x5478a2(0x1b8),'language':_0x5478a2(0xc5),'ud':this[_0x5478a2(0x144)],'did_tag':'0','net':'WIFI','kcv':_0x5478a2(0xd1),'app':'0','kpf':_0x5478a2(0x122),'ver':_0x5478a2(0x188),'android_os':'0','boardPlatform':_0x5478a2(0x1ac),'kpn':_0x5478a2(0x177),'androidApiLevel':'35','country_code':'cn','sys':_0x5478a2(0x127),'sw':_0x5478a2(0x1c7),'sh':_0x5478a2(0x11b),'abi':_0x5478a2(0x1d5),'userRecoBit':'0'},_0x379cb7={'appInfo':{'appId':_0x5478a2(0x1b9),'name':_0x5478a2(0x107),'packageName':_0x5478a2(0x1ca),'version':this[_0x5478a2(0xda)],'versionCode':-0x1},'deviceInfo':{'osType':0x1,'osVersion':'15','deviceId':this[_0x5478a2(0x17c)],'screenSize':{'width':0x438,'height':0x8c9},'ftt':''},'userInfo':{'userId':this['userId'],'age':0x0,'gender':''},'impInfo':[{'pageId':0x2b5d,'subPageId':_0x410b18[_0x5478a2(0x1c4)],'action':0x0,'browseType':0x3,'impExtData':'{}','mediaExtData':'{}'}]},_0x2feb6c=Buffer[_0x5478a2(0xe1)](JSON[_0x5478a2(0x12a)](_0x379cb7))[_0x5478a2(0x1cf)](_0x5478a2(0xb9)),_0x254cbf=await this[_0x5478a2(0x136)](_0x18f08b,querystring['stringify']({..._0x4f59ac,..._0x1e4495}),this[_0x5478a2(0x108)],_0x2feb6c);if(!_0x254cbf)return console['log'](_0x5478a2(0xe0)+this[_0x5478a2(0xb5)]+_0x5478a2(0x147)+_0x410b18[_0x5478a2(0x124)]),null;const _0xf51fd3={..._0x4f59ac,'sig':_0x254cbf[_0x5478a2(0xf3)],'__NS_sig3':_0x254cbf[_0x5478a2(0x1de)],'__NS_xfalcon':'','__NStokensig':_0x254cbf[_0x5478a2(0x175)]};_0x1e4495[_0x5478a2(0x1f4)]=_0x254cbf[_0x5478a2(0x1f4)],_0x1e4495[_0x5478a2(0x1f2)]=_0x254cbf[_0x5478a2(0x1f2)];const _0x21465e='https://api.e.kuaishou.com'+_0x18f08b+'?'+querystring['stringify'](_0xf51fd3),_0x5e78dc=await makeRequest({'method':'POST','url':_0x21465e,'headers':{'Host':_0x5478a2(0x16d),'User-Agent':_0x5478a2(0x151),'Cookie':'kuaishou_api_st='+this['kuaishouApiSt']},'form':_0x1e4495,'timeout':0x2ee0},this[_0x5478a2(0x1e1)],'账号['+this[_0x5478a2(0xb5)]+_0x5478a2(0x14b));if(!_0x5e78dc)return null;if(_0x5e78dc['errorMsg']==='OK'&&_0x5e78dc[_0x5478a2(0x19b)]&&_0x5e78dc[_0x5478a2(0x19b)][0x0]&&_0x5e78dc[_0x5478a2(0x19b)][0x0]['ad']){const _0x4de224=_0x5e78dc['feeds'][0x0]['ad']['creativeId'],_0x24454d=_0x5e78dc[_0x5478a2(0x19b)][0x0]['exp_tag']||'',_0x15f1c4=_0x24454d[_0x5478a2(0x126)]('/')[0x1]?.['split']('_')?.[0x0]||'';return{'cid':_0x4de224,'llsid':_0x15f1c4};}return isDevMode&&console['log'](_0x5478a2(0xeb),JSON[_0x5478a2(0x12a)](_0x5e78dc)),null;}catch(_0x2900d0){return console[_0x5478a2(0x13a)](_0x5478a2(0xe0)+this['nickname']+']\x20获取广告异常:\x20'+_0x2900d0['message']),null;}}async['generateSignature'](_0xdb01f5,_0x17dc46,_0x1521c4,_0x4b4a34){const _0x1970af=_0x5d9ef0;try{const _0x28aa34={'businessId':_0x4b4a34[_0x1970af(0x13c)],'endTime':this['endTime'],'extParams':'','mediaScene':_0x1970af(0x13e),'neoInfos':[{'creativeId':_0xdb01f5,'extInfo':'','llsid':_0x17dc46,'requestSceneType':_0x4b4a34[_0x1970af(0x1bb)],'taskType':_0x4b4a34['taskType'],'watchExpId':'','watchStage':0x0}],'pageId':0x2b5d,'posId':_0x4b4a34['posId'],'reportType':0x0,'sessionId':'','startTime':this[_0x1970af(0x1ba)],'subPageId':_0x4b4a34[_0x1970af(0x1c4)]},_0x4adea9=JSON[_0x1970af(0x12a)](_0x28aa34),_0x2a80c5=_0x1970af(0xea)+encodeURIComponent(_0x4adea9)+_0x1970af(0x183),_0x2c56f1=this[_0x1970af(0xd6)]+'&'+_0x2a80c5,_0x2b2561=await this[_0x1970af(0x181)]({'urlpath':this['taskReportPath'],'urldata':_0x2c56f1,'api_client_salt':this[_0x1970af(0x108)]},_0x1970af(0x121)+this[_0x1970af(0xb5)]+_0x1970af(0x18e));if(!_0x2b2561||!_0x2b2561[_0x1970af(0x143)])return null;return{'sig':_0x2b2561[_0x1970af(0x143)][_0x1970af(0xf3)],'sig3':_0x2b2561[_0x1970af(0x143)]['__NS_sig3'],'sigtoken':_0x2b2561[_0x1970af(0x143)][_0x1970af(0x175)],'post':_0x2a80c5};}catch(_0x288b40){return console[_0x1970af(0x13a)](_0x1970af(0xe0)+this[_0x1970af(0xb5)]+_0x1970af(0x191)+_0x288b40[_0x1970af(0x1e6)]),null;}}async['generateSignature2'](_0x18e534,_0x5063a6,_0x26de52,_0x24c676){const _0x2448aa=_0x5d9ef0,_0x18063f=await this[_0x2448aa(0x181)]({'urlpath':_0x18e534,'urldata':_0x5063a6,'api_client_salt':_0x26de52,'req_str':_0x24c676},'账号['+this[_0x2448aa(0xb5)]+_0x2448aa(0xfd));if(!_0x18063f)return null;return _0x18063f['data']||_0x18063f;}async[_0x5d9ef0(0x185)](_0x4611e4,_0x57b389,_0x57a73b,_0x5d85f9,_0x54fdc1,_0x58cff7){const _0xec513f=_0x5d9ef0;try{const _0x4c68a1=_0xec513f(0x1b1)+this[_0xec513f(0x1ae)]+'?'+this[_0xec513f(0xd6)]+_0xec513f(0xe3)+_0x4611e4+_0xec513f(0x150)+_0x57b389+_0xec513f(0x138)+_0x57a73b,_0x5adb6c=await makeRequest({'method':_0xec513f(0x1e4),'url':_0x4c68a1,'headers':{'Host':_0xec513f(0x10a),'User-Agent':'kwai-android\x20aegon/3.56.0','Cookie':this[_0xec513f(0x123)],'Content-Type':_0xec513f(0x1a6)},'body':_0x5d85f9,'timeout':0x2ee0},this['proxyUrl'],'账号['+this['nickname']+_0xec513f(0x164));if(!_0x5adb6c)return{'success':![],'reward':0x0};if(_0x5adb6c[_0xec513f(0x149)]===0x1){const _0x475097=_0x5adb6c[_0xec513f(0x143)]?.[_0xec513f(0x1d1)]||0x0;return console[_0xec513f(0x13a)](_0xec513f(0x1b7)+this['nickname']+']\x20'+_0x58cff7[_0xec513f(0x124)]+_0x475097+'金币奖励！'),_0x475097<=this[_0xec513f(0x1e3)]?(this[_0xec513f(0xe7)]++,console[_0xec513f(0x13a)]('⚠️\x20账号['+this[_0xec513f(0xb5)]+_0xec513f(0x133)+this['lowRewardThreshold']+_0xec513f(0x1d4)),this[_0xec513f(0x17c)]=generateDid(),this[_0xec513f(0xe7)]>=this[_0xec513f(0xf4)]&&(console[_0xec513f(0x13a)](_0xec513f(0x1cd)+this[_0xec513f(0xb5)]+_0xec513f(0x1a2)+this[_0xec513f(0xf4)]+_0xec513f(0x182)+this['lowRewardThreshold']+_0xec513f(0x1a4)+this['lowRewardLimit']+']'),this[_0xec513f(0x1a1)]=!![])):this['lowRewardStreak']=0x0,{'success':!![],'reward':_0x475097};}if([0x4e8b,0x4e8c,0x3eb,0x19f][_0xec513f(0x1b6)](_0x5adb6c[_0xec513f(0x149)]))return console[_0xec513f(0x13a)](_0xec513f(0x180)+this[_0xec513f(0xb5)]+']\x20'+_0x58cff7[_0xec513f(0x124)]+'\x20已达上限'),this[_0xec513f(0x125)][_0x54fdc1]=!![],{'success':![],'reward':0x0};console[_0xec513f(0x13a)]('❌\x20账号['+this[_0xec513f(0xb5)]+']\x20'+_0x58cff7[_0xec513f(0x124)]+_0xec513f(0xed)+_0x5adb6c['result']+_0xec513f(0x1e5)+(_0x5adb6c[_0xec513f(0x143)]||''));if(isDevMode)console[_0xec513f(0x13a)](_0xec513f(0x119),JSON[_0xec513f(0x12a)](_0x5adb6c));return{'success':![],'reward':0x0};}catch(_0x35c9e5){return console[_0xec513f(0x13a)](_0xec513f(0xe0)+this['nickname']+']\x20提交任务异常:\x20'+_0x35c9e5[_0xec513f(0x1e6)]),{'success':![],'reward':0x0};}}async[_0x5d9ef0(0x181)](_0x4f9dd9,_0xa15569){const _0x5a7a60=_0x5d9ef0,_0x292b00=(process[_0x5a7a60(0xe4)]['km']||'')[_0x5a7a60(0x15d)]();if(!_0x292b00)return null;const _0x409b31=await makeRequest({'method':_0x5a7a60(0x1e4),'url':SIGN_API_ENDPOINT+'?card_key='+encodeURIComponent(_0x292b00),'headers':{'Content-Type':'application/json','User-Agent':'Mozilla/5.0','X-Card-Key':_0x292b00},'body':JSON[_0x5a7a60(0x12a)](_0x4f9dd9),'timeout':0x3a98},null,_0xa15569+_0x5a7a60(0x102));if(!_0x409b31)return null;if(_0x409b31[_0x5a7a60(0x141)]&&_0x409b31[_0x5a7a60(0x1b2)]===_0x5a7a60(0x17d)&&_0x409b31[_0x5a7a60(0xf1)]){const _0x295ff4=await this[_0x5a7a60(0xb3)](_0x409b31[_0x5a7a60(0xf1)]);if(_0x295ff4&&_0x295ff4['success']&&(_0x295ff4[_0x5a7a60(0x1b2)]==='completed'||_0x295ff4[_0x5a7a60(0x1b2)]===_0x5a7a60(0x110)))return _0x295ff4;return console['log'](_0x5a7a60(0x121)+this[_0x5a7a60(0xb5)]+_0x5a7a60(0x179)+(_0x295ff4?.[_0x5a7a60(0x116)]||_0x295ff4?.[_0x5a7a60(0x1b2)]||'未知')),null;}if(_0x409b31[_0x5a7a60(0x141)]&&(!_0x409b31[_0x5a7a60(0x1b2)]||_0x409b31[_0x5a7a60(0x1b2)]===_0x5a7a60(0x110)||_0x409b31[_0x5a7a60(0x1b2)]===_0x5a7a60(0x1c5)))return _0x409b31;return console['log'](_0x5a7a60(0x121)+this[_0x5a7a60(0xb5)]+_0x5a7a60(0x179)+(_0x409b31[_0x5a7a60(0x116)]||_0x409b31[_0x5a7a60(0x1e6)]||_0x409b31[_0x5a7a60(0x1b2)]||'未知')),null;}async[_0x5d9ef0(0xb3)](_0x21c8e9,_0x373f61=0x7530,_0x54b712=0x7d0){const _0x4e1bbe=_0x5d9ef0,_0x1e7736=Date[_0x4e1bbe(0xf7)]();while(Date[_0x4e1bbe(0xf7)]()-_0x1e7736<_0x373f61){const _0x21514e=await makeRequest({'method':'GET','url':QUEUE_STATUS_ENDPOINT+_0x4e1bbe(0x146)+encodeURIComponent(_0x21c8e9),'headers':{'User-Agent':_0x4e1bbe(0x18b)},'timeout':0x2710},null,'账号['+this[_0x4e1bbe(0xb5)]+']\x20签名排队');if(_0x21514e?.['success']){if(_0x21514e[_0x4e1bbe(0x1b2)]===_0x4e1bbe(0x1c5)||_0x21514e[_0x4e1bbe(0x1b2)]==='processed')return _0x21514e;if(_0x21514e[_0x4e1bbe(0x1b2)]==='failed')return _0x21514e;}await new Promise(_0x11ea7d=>setTimeout(_0x11ea7d,_0x54b712));}return{'success':![],'status':_0x4e1bbe(0xfc),'error':_0x4e1bbe(0xb2)};}async[_0x5d9ef0(0xe9)](_0x45ea14){const _0x31f164=_0x5d9ef0,_0x599811=this[_0x31f164(0xc0)][_0x45ea14];if(!_0x599811)return console[_0x31f164(0x13a)](_0x31f164(0xe0)+this['nickname']+_0x31f164(0x10b)+_0x45ea14),![];if(this[_0x31f164(0x125)][_0x45ea14])return![];try{const _0x357fec=await this['retryOperation'](()=>this[_0x31f164(0x1dd)](_0x599811),'获取'+_0x599811[_0x31f164(0x124)]+'信息',0x3);if(!_0x357fec)return this['taskStats'][_0x45ea14]['failed']++,![];const _0x5bcfd4=Math[_0x31f164(0xf0)](Math[_0x31f164(0xc6)]()*0x2710)+0x7530;console[_0x31f164(0x13a)](_0x31f164(0x1e8)+this[_0x31f164(0xb5)]+_0x31f164(0x1a5)+_0x599811[_0x31f164(0x124)]+'\x20'+getRandomAdWatchingStatus()+'\x20'+Math[_0x31f164(0xf6)](_0x5bcfd4/0x3e8)+'\x20秒'),await new Promise(_0xf289d6=>setTimeout(_0xf289d6,_0x5bcfd4));const _0x57e8ed=await this[_0x31f164(0x170)](()=>this[_0x31f164(0x154)](_0x357fec[_0x31f164(0x1ce)],_0x357fec[_0x31f164(0x189)],_0x45ea14,_0x599811),'生成'+_0x599811['name']+'签名',0x3);if(!_0x57e8ed)return this[_0x31f164(0x186)][_0x45ea14][_0x31f164(0xfc)]++,![];const _0x3917ba=await this[_0x31f164(0x170)](()=>this[_0x31f164(0x185)](_0x57e8ed[_0x31f164(0xf3)],_0x57e8ed[_0x31f164(0xf8)],_0x57e8ed[_0x31f164(0x1e2)],_0x57e8ed['post'],_0x45ea14,_0x599811),'提交'+_0x599811['name']+'报告',0x3);if(_0x3917ba?.[_0x31f164(0x141)])return this['taskStats'][_0x45ea14][_0x31f164(0x141)]++,this[_0x31f164(0x186)][_0x45ea14]['totalReward']+=_0x3917ba[_0x31f164(0x1ec)]||0x0,!![];return this['taskStats'][_0x45ea14][_0x31f164(0xfc)]++,![];}catch(_0x25477b){return console['log'](_0x31f164(0xe0)+this[_0x31f164(0xb5)]+_0x31f164(0x169)+_0x45ea14+'):\x20'+_0x25477b[_0x31f164(0x1e6)]),this[_0x31f164(0x186)][_0x45ea14]['failed']++,![];}}async[_0x5d9ef0(0xd2)](){const _0x4bc284=_0x5d9ef0,_0x56f6c1={};for(const _0x21ff4b of this[_0x4bc284(0xbd)]){if(this[_0x4bc284(0x1a1)])break;if(!this[_0x4bc284(0xc0)][_0x21ff4b]){console[_0x4bc284(0x13a)](_0x4bc284(0x180)+this[_0x4bc284(0xb5)]+_0x4bc284(0x139)+_0x21ff4b);continue;}console[_0x4bc284(0x13a)](_0x4bc284(0xbf)+this['nickname']+']\x20开始任务：'+this[_0x4bc284(0xc0)][_0x21ff4b][_0x4bc284(0x124)]),_0x56f6c1[_0x21ff4b]=await this['executeTask'](_0x21ff4b);if(this[_0x4bc284(0x1a1)])break;if(_0x21ff4b!==this[_0x4bc284(0xbd)][this[_0x4bc284(0xbd)][_0x4bc284(0x192)]-0x1]){const _0x31bc20=Math[_0x4bc284(0xf0)](Math[_0x4bc284(0xc6)]()*0x1f40)+0x1b58;console[_0x4bc284(0x13a)](_0x4bc284(0x13d)+this[_0x4bc284(0xb5)]+_0x4bc284(0xdc)+Math[_0x4bc284(0xf6)](_0x31bc20/0x3e8)+'\x20秒'),await new Promise(_0x2862e0=>setTimeout(_0x2862e0,_0x31bc20));}}return _0x56f6c1;}}async function runConcurrentTasks(_0x26aa1d,_0x16e395,_0x3e16ca){const _0x4cf084=_0x5d9ef0,_0x4df947=new Array(_0x26aa1d[_0x4cf084(0x192)]);let _0x2a1164=0x0;async function _0x2f3a39(){const _0x15e1de=_0x4cf084;while(!![]){const _0x4e9d07=_0x2a1164++;if(_0x4e9d07>=_0x26aa1d[_0x15e1de(0x192)])return;const _0x290d1b=_0x26aa1d[_0x4e9d07];try{_0x4df947[_0x4e9d07]=await _0x3e16ca(_0x290d1b,_0x4e9d07);}catch(_0x173410){console['log'](_0x15e1de(0x1f5)+(_0x4e9d07+0x1)+'）：'+_0x173410[_0x15e1de(0x1e6)]),_0x4df947[_0x4e9d07]=null;}}}const _0x91bbee=Array[_0x4cf084(0xe1)]({'length':Math['min'](_0x16e395,_0x26aa1d[_0x4cf084(0x192)])},_0x2f3a39);return await Promise[_0x4cf084(0x15a)](_0x91bbee),_0x4df947;}async function processSingleAccount(_0x3a2e14,_0x50bedc=MAX_ROUNDS){const _0x47fd18=_0x5d9ef0;console['log'](_0x47fd18(0x121)+_0x3a2e14[_0x47fd18(0x104)]+']'+(_0x3a2e14[_0x47fd18(0x196)]?'（'+_0x3a2e14[_0x47fd18(0x196)]+'）':'')+_0x47fd18(0x140)+_0x50bedc+_0x47fd18(0x16e));if(_0x3a2e14[_0x47fd18(0x1e1)]){console['log'](_0x47fd18(0x121)+_0x3a2e14['index']+']'+(_0x3a2e14[_0x47fd18(0x196)]?'（'+_0x3a2e14[_0x47fd18(0x196)]+'）':'')+_0x47fd18(0x19c));const _0x574182=await testProxyConnection(_0x3a2e14[_0x47fd18(0x1e1)],'账号['+_0x3a2e14[_0x47fd18(0x104)]+']');console[_0x47fd18(0x13a)](_0x47fd18(0x193)+(_0x574182['ok']?_0x47fd18(0xc1)+_0x574182['ip']:_0x47fd18(0x163))+':\x20'+_0x574182[_0x47fd18(0x113)]),_0x574182['ok']&&_0x574182['ip']&&_0x574182['ip']!==_0x47fd18(0xef)&&(usedProxyIps[_0x47fd18(0x145)](_0x574182['ip'])&&(console[_0x47fd18(0x13a)](_0x47fd18(0x1d9)+_0x574182['ip']+_0x47fd18(0x131)),process['exit'](0x1)),usedProxyIps['add'](_0x574182['ip']));}else console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x3a2e14[_0x47fd18(0x104)]+_0x47fd18(0x14a));console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x3a2e14[_0x47fd18(0x104)]+']'+(_0x3a2e14['remark']?'（'+_0x3a2e14[_0x47fd18(0x196)]+'）':'')+_0x47fd18(0x1bd));let _0x280c1c=await getAccountBasicInfo(_0x3a2e14['cookie'],_0x3a2e14['proxyUrl'],_0x3a2e14[_0x47fd18(0x104)]),_0x2bbbdb=_0x280c1c?.[_0x47fd18(0xb5)]||'账号'+_0x3a2e14[_0x47fd18(0x104)];if(_0x280c1c){const _0xac15b3=_0x280c1c[_0x47fd18(0x16c)]!=null?_0x280c1c['totalCoin']:'未知',_0x33f888=_0x280c1c['allCash']!=null?_0x280c1c[_0x47fd18(0xbc)]:'未知';console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x2bbbdb+_0x47fd18(0x100)+_0xac15b3+'，💸\x20当前余额:\x20'+_0x33f888);}else console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x2bbbdb+_0x47fd18(0x117));const _0x3adf18=new KuaishouAccount({..._0x3a2e14,'nickname':_0x2bbbdb,'tasksToExecute':tasksToExecute});await _0x3adf18['checkCoinLimit']();if(_0x3adf18[_0x47fd18(0xd4)]){console['log'](_0x47fd18(0x121)+_0x3adf18[_0x47fd18(0xb5)]+_0x47fd18(0xd7));const _0x162251=await getAccountBasicInfo(_0x3a2e14['cookie'],_0x3a2e14[_0x47fd18(0x1e1)],_0x3a2e14['index']),_0x3c57fe=_0x280c1c?.[_0x47fd18(0x16c)]||0x0,_0x326e7a=_0x162251?.[_0x47fd18(0x16c)]||0x0,_0x1cfae1=_0x326e7a-_0x3c57fe,_0x2f74e9=_0x280c1c?.[_0x47fd18(0xbc)]||0x0,_0x2e384c=_0x162251?.[_0x47fd18(0xbc)]||0x0,_0x273b63=_0x2e384c-_0x2f74e9;return{'index':_0x3a2e14[_0x47fd18(0x104)],'nickname':_0x2bbbdb,'initialCoin':_0x3c57fe,'finalCoin':_0x326e7a,'coinChange':_0x1cfae1,'initialCash':_0x2f74e9,'finalCash':_0x2e384c,'cashChange':_0x273b63,'stats':_0x3adf18[_0x47fd18(0xfb)](),'coinLimitExceeded':!![]};}for(let _0x55f857=0x0;_0x55f857<_0x50bedc;_0x55f857++){const _0x25dcdb=Math[_0x47fd18(0xf0)](Math[_0x47fd18(0xc6)]()*0x1f40)+0x1f40;console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x3adf18[_0x47fd18(0xb5)]+']\x20⌛\x20第'+(_0x55f857+0x1)+_0x47fd18(0xfe)+Math[_0x47fd18(0xf6)](_0x25dcdb/0x3e8)+'\x20秒'),await new Promise(_0xc7ab19=>setTimeout(_0xc7ab19,_0x25dcdb)),console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x3adf18['nickname']+_0x47fd18(0xee)+(_0x55f857+0x1)+'轮任务');const _0x2d9982=await _0x3adf18['executeAllTasksByPriority']();Object[_0x47fd18(0x184)](_0x2d9982)[_0x47fd18(0x159)](Boolean)?console['log']('账号['+_0x3adf18[_0x47fd18(0xb5)]+_0x47fd18(0xd0)+(_0x55f857+0x1)+'轮执行完成'):console[_0x47fd18(0x13a)](_0x47fd18(0x121)+_0x3adf18[_0x47fd18(0xb5)]+_0x47fd18(0x1bc)+(_0x55f857+0x1)+'轮没有成功任务');if(_0x3adf18[_0x47fd18(0x1a1)]){console['log']('账号['+_0x3adf18[_0x47fd18(0xb5)]+_0x47fd18(0x1cc));break;}if(_0x55f857<_0x50bedc-0x1){const _0x4df11c=Math[_0x47fd18(0xf0)](Math[_0x47fd18(0xc6)]()*0x2710)+0x2710;console['log'](_0x47fd18(0x121)+_0x3adf18[_0x47fd18(0xb5)]+_0x47fd18(0x12b)+Math[_0x47fd18(0xf6)](_0x4df11c/0x3e8)+'\x20秒进入下一轮'),await new Promise(_0xa26f1d=>setTimeout(_0xa26f1d,_0x4df11c));}}const _0x2364fc=await getAccountBasicInfo(_0x3a2e14[_0x47fd18(0x123)],_0x3a2e14['proxyUrl'],_0x3a2e14[_0x47fd18(0x104)]),_0x5ea6c6=_0x280c1c?.[_0x47fd18(0x16c)]||0x0,_0x176f42=_0x2364fc?.[_0x47fd18(0x16c)]||0x0,_0x37bd5f=_0x176f42-_0x5ea6c6,_0x8b1c=_0x280c1c?.[_0x47fd18(0xbc)]||0x0,_0x369a01=_0x2364fc?.[_0x47fd18(0xbc)]||0x0,_0x5acc58=_0x369a01-_0x8b1c;return _0x3adf18[_0x47fd18(0x114)](),{'index':_0x3a2e14[_0x47fd18(0x104)],'nickname':_0x2bbbdb,'initialCoin':_0x5ea6c6,'finalCoin':_0x176f42,'coinChange':_0x37bd5f,'initialCash':_0x8b1c,'finalCash':_0x369a01,'cashChange':_0x5acc58,'stats':_0x3adf18[_0x47fd18(0xfb)](),'coinLimitExceeded':_0x3adf18[_0x47fd18(0xd4)]};}function _0x1d4b(){const _0x4fe319=['✅\x20代理验证通过，IP:\x20','\x0a防黑并发：','method','Mozilla/5.0\x20(Linux;\x20Android\x2010;\x20MI\x208\x20Lite\x20Build/QKQ1.190910.002;\x20wv)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Version/4.0\x20Chrome/87.0.4280.101\x20Mobile\x20Safari/537.36','zh-cn','random','\x20⚠️','statusCode','toLowerCase','正在观看广告','\x0a没有可显示的账号信息。','mod=Xiaomi(MI\x2011)&appver=','application/json','1_23','[调试]\x20',']\x20✅\x20第','1599','executeAllTasksByPriority','\x20\x20\x20\x20\x20\x20快手养号任务执行结果汇总表\x20\x20\x20\x20\x20\x20','coinExceeded','MAX_CONCURRENCY','queryParams',']\x20初始金币已超过阈值，不执行任务','nebula.kuaishou.com','💎\x20检测到环境变量配置：','appver','errors',']\x20下一个任务，随机等待\x20','无备注','map','Task','❌\x20账号[','from','开始检查\x20ksck1\x20到\x20ksck','&sig=','env','isArray','true','lowRewardStreak','⚠️\x20代理字段不是\x20socks5://\x20URL，忽略：','executeTask','bizStr=','[调试]\x20getAdInfo\x20原始响应:','总余额变化:\x20','\x20奖励失败，result=',']\x20🚀\x20开始第','localhost','floor','queue_id','initialCoin','sig','lowRewardLimit','userData','round','now','sig3','账号昵称','10326zLmWhV','getTaskStats','failed',']\x20生成广告签名','轮，先随机等待\x20','================🎉\x20系统初始化完成，快手至尊金币版启动成功！🎉',']\x20✅\x20登录成功，💰\x20当前金币:\x20','错误:\x20检测到\x20','（签名服务）','✅\x20共加载\x20','index','coinChange','9487nRMhBv','快手极速版','salt','Unknown\x20Request','api.e.kuaishou.cn',']\x20未知任务:\x20','\x20格式错误，忽略:\x20','\x20金币（LOW_REWARD_THRESHOLD=','6544524IFDiTf','Xiaomi(23116PN5BC)','processed','&did=','\x0a——\x20🚀\x20开始账号[','msg','printTaskStats','endTime','error',']\x20❌\x20基本信息获取失败，继续执行','666','[调试]\x20submitReport\x20原始响应:','⚠️\x20ksck\x20配置重复，忽略:\x20','2400','reduce','CONCURRENCY','⚠️\x20ksck\x20配置格式错误，忽略:\x20','LOW_REWARD_LIMIT','\x20\x20\x20\x20防黑轮数：','账号[','ANDROID_PHONE','cookie','name','taskLimitReached','split','ANDROID_15','AggregateError','余额变化','stringify',']\x20⌛\x20等待\x20','MAX_KSCK_INDEX','coinLimit','android','socks-proxy-agent','look','），请立即检查！','616VUwNLd',']\x20[备注：奖励低于\x20LOW_REWARD_THRESHOLD=','false','request','generateSignature2','push','&__NS_xfalcon=&__NStokensig=',']\x20跳过未知任务:\x20','log','初始余额','businessId','⏱\x20账号[','video','\x20配置重复，忽略:\x20','\x20[备注：本账号将执行最多\x20','success','[备注：金币阈值配置为\x20','data','userId','has','?queue_id=',']\x20生成签名失败，无法获取','看广告得金币','result',']\x20未配置代理，走直连',']\x20获取广告','egid','ROUNDS',')，轮数配置为\x20','🎯\x20将执行以下任务：','&__NS_sig3=','kwai-android\x20aegon/3.56.0','观看视频广告','13.7.20.10468','generateSignature','总任务数:\x20','0123456789abcdef',']\x20解析cookie失败:\x20','宝箱广告','some','all','\x0a----------------------------------------------\x20账号信息汇总\x20----------------------------------------------','次,\x20总奖励','trim','exit',')，低奖励阈值\x20','\x20个配置','✅\x20SOCKS5代理正常，出口IP:\x20','/queue_status','❌\x20代理验证失败',']\x20提交任务','\x20使用代理:\x20','默认500000','0.0','toFixed',']\x20任务异常(','/rest/e/reward/mixed/ad','noDeprecation','totalCoin','api.e.kuaishou.com','\x20轮任务]','\x20个有效账号配置','retryOperation','\x20HTTP状态码异常:\x20',']\x20cookie格式可能无\x20egid\x20或\x20did，但继续尝试...','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🏆\x20安全稳定\x20·\x20高效收益\x20·\x20尊贵体验\x20🏆\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','agent','__NStokensig','querystring','NEBULA','LOW_REWARD_THRESHOLD',']\x20签名失败:\x20','|encData|','\x20->\x20','did','queued','正常观看时长','个账号','⚠️\x20账号[','requestSignService','次奖励≤','&cs=false&client_key=2ac2a76d','values','submitReport','taskStats','filter','11.6','llsid','ANDROID_','Mozilla/5.0','\x20金币（COIN_LIMIT=','\x20\x20[',']\x20生成报告签名','headers','join',']\x20生成签名异常:\x20','length','\x20\x20-\x20','slice','http://43.136.91.204:5002','remark','food','coinLimitExceeded','65838GzEMdn','\x20失败，重试\x20','feeds','\x20🔌\x20测试代理连接中...','charAt','❌\x20无法通过代理访问\x20ipinfo.io','finalCash','最终余额','stopAllTasks',']\x20连续','ksck','，停止全部任务\x20[备注：连续低奖励达到上限\x20LOW_REWARD_LIMIT=',']\x20==>成功获取','application/x-www-form-urlencoded','keep-alive','❌\x20未找到任何有效的账号配置（检查\x20ksck\x20或\x20ksck1\x20到\x20ksck','initialCash','\x20阈值，将停止任务\x20[备注：超过金币阈值（COIN_LIMIT=','164KpvEsT','pineapple','totalReward','taskReportPath','次,\x20失败','[错误]\x20','https://api.e.kuaishou.com','status',']\x20任务执行统计:','extractCookieInfo','match','includes','💰\x20账号[','CUCC','kuaishou_nebula','startTime','requestSceneType',']\x20⚠️\x20第','\x20🔍\x20获取账号信息中...','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⭐\x20快手至尊金币至尊PLUS版\x20⭐\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','repeat',']\x20❌\x20执行异常：','\x20代理URL无效(','stats',']\x20获取基本信息','subPageId','completed','保持活跃状态','1080','4407510eXwjTe','finalCoin','com.kuaishou.nebula','GET',']\x20🏁\x20达到停止条件，终止后续轮次','🏁\x20账号[','cid','toString','\x20个账号配置，最多只允许','neoAmount','初始金币','广告浏览中',']\x20金币低于阈值,\x20模拟下载应用提升权重^^^^^^','arm64','\x20请求错误:\x20','5421432ocKDkZ','14981184ILKoIU','\x0a⚠️\x20存在相同代理IP（','entries','parse','forEach','getAdInfo','__NS_sig3','总金币变化:\x20','cashChange','proxyUrl','sigtoken','lowRewardThreshold','POST','\x20msg=','message','ProxyTester/1.0','🔍\x20账号[','checkCoinLimit','kuaishouApiSt','DEV_MODE','reward','⚠️\x20','\x20最终失败:\x20','最终金币','总金币奖励:\x20','box','sign','总账号数:\x20','encData','并发执行异常（index=','COIN_LIMIT','add','\x20——','https://ipinfo.io/json','queue_timeout','pollQueueStatus','padEnd','nickname','source','https://nebula.kuaishou.com/rest/n/nebula/activity/earn/overview/basicInfo?source=bottom_guide_first','\x20轮（ROUNDS=','base64','饭补广告','从\x20ksck\x20环境变量中解析到\x20','allCash','tasksToExecute','substring','🚀\x20账号[','taskConfigs'];_0x1d4b=function(){return _0x4fe319;};return _0x1d4b();}function printSummaryReport(_0x442ec7){const _0x1a3697=_0x5d9ef0;if(!_0x442ec7['length']){console[_0x1a3697(0x13a)](_0x1a3697(0xcb));return;}const _0x19977f=_0x442ec7[_0x1a3697(0x11c)]((_0x75d689,_0xc1f64b)=>_0x75d689+(parseInt(_0xc1f64b[_0x1a3697(0xf2)])||0x0),0x0),_0x3d9759=_0x442ec7[_0x1a3697(0x11c)]((_0x1a89a4,_0x4fd8b3)=>_0x1a89a4+(parseInt(_0x4fd8b3[_0x1a3697(0x1c9)])||0x0),0x0),_0x330e95=_0x3d9759-_0x19977f,_0x13bce5=_0x442ec7[_0x1a3697(0x11c)]((_0x5ffbbd,_0x2851ed)=>_0x5ffbbd+(parseFloat(_0x2851ed['initialCash'])||0x0),0x0),_0x569a0b=_0x442ec7[_0x1a3697(0x11c)]((_0x179e99,_0x3a2679)=>_0x179e99+(parseFloat(_0x3a2679[_0x1a3697(0x19f)])||0x0),0x0),_0x412919=_0x569a0b-_0x13bce5;let _0x12ab44=0x0,_0x3b5171=0x0,_0x459dad=0x0;_0x442ec7[_0x1a3697(0x1dc)](_0x527214=>{const _0x5c1706=_0x1a3697;_0x527214[_0x5c1706(0x1c2)]&&Object['values'](_0x527214['stats'])[_0x5c1706(0x1dc)](_0x2d711a=>{const _0x1d7bb8=_0x5c1706;_0x12ab44+=_0x2d711a[_0x1d7bb8(0x141)]+_0x2d711a['failed'],_0x3b5171+=_0x2d711a[_0x1d7bb8(0x141)],_0x459dad+=_0x2d711a[_0x1d7bb8(0x1ad)];});});const _0x2bdc6e=_0x12ab44>0x0?(_0x3b5171/_0x12ab44*0x64)[_0x1a3697(0x168)](0x1):_0x1a3697(0x167),_0x5402cc=_0x442ec7[_0x1a3697(0x187)](_0x1e64f8=>_0x1e64f8['coinLimitExceeded'])[_0x1a3697(0x192)];console['log']('\x0a\x0a'+'='['repeat'](0x50)),console[_0x1a3697(0x13a)]('|'+centerAlignText(_0x1a3697(0xd3),0x4e)+'|'),console['log']('='['repeat'](0x50)),console[_0x1a3697(0x13a)]('|'+(_0x1a3697(0x1f3)+_0x442ec7[_0x1a3697(0x192)])[_0x1a3697(0xb4)](0x16)+('超过金币阈值账号:\x20'+_0x5402cc)[_0x1a3697(0xb4)](0x16)+(_0x1a3697(0x155)+_0x12ab44)[_0x1a3697(0xb4)](0x16)+('任务成功率:\x20'+_0x2bdc6e+'%')[_0x1a3697(0xb4)](0xa)+'|'),console[_0x1a3697(0x13a)]('|'+(_0x1a3697(0x1df)+_0x330e95)[_0x1a3697(0xb4)](0x1a)+(_0x1a3697(0x1f0)+_0x459dad)[_0x1a3697(0xb4)](0x1a)+(_0x1a3697(0xec)+_0x412919['toFixed'](0x2))[_0x1a3697(0xb4)](0x18)+'|'),console[_0x1a3697(0x13a)]('-'[_0x1a3697(0x1bf)](0x50));const _0x2ad014=['序号',_0x1a3697(0xf9),_0x1a3697(0x1d2),_0x1a3697(0x1ef),'金币变化',_0x1a3697(0x13b),_0x1a3697(0x1a0),_0x1a3697(0x129)],_0x5e9389=[0x6,0x10,0xc,0xc,0xc,0xc,0xc,0xc];let _0x9545eb='|';_0x2ad014['forEach']((_0x25e6f9,_0x3f959c)=>{_0x9545eb+=centerAlignText(_0x25e6f9,_0x5e9389[_0x3f959c])+'|';}),console[_0x1a3697(0x13a)](_0x9545eb);let _0x1d4639='|';_0x5e9389['forEach'](_0x584a66=>{_0x1d4639+='-'['repeat'](_0x584a66)+'|';}),console[_0x1a3697(0x13a)](_0x1d4639),_0x442ec7['forEach'](_0x383dfb=>{const _0x1f6270=_0x1a3697;let _0x63689d='|';_0x63689d+=centerAlignText(_0x383dfb[_0x1f6270(0x104)],_0x5e9389[0x0])+'|';const _0x2ffc36=(_0x383dfb[_0x1f6270(0xb5)]||'-')+(_0x383dfb['coinLimitExceeded']?_0x1f6270(0xc7):'');_0x63689d+=centerAlignText(_0x2ffc36[_0x1f6270(0xbe)](0x0,_0x5e9389[0x1]-0x2),_0x5e9389[0x1])+'|',_0x63689d+=centerAlignText(_0x383dfb['initialCoin'],_0x5e9389[0x2])+'|',_0x63689d+=centerAlignText(_0x383dfb['finalCoin'],_0x5e9389[0x3])+'|';const _0x52e1c8=_0x383dfb['coinChange']>=0x0?'+'+_0x383dfb[_0x1f6270(0x105)]:_0x383dfb[_0x1f6270(0x105)];_0x63689d+=centerAlignText(_0x52e1c8,_0x5e9389[0x4])+'|',_0x63689d+=centerAlignText(_0x383dfb[_0x1f6270(0x1a9)],_0x5e9389[0x5])+'|',_0x63689d+=centerAlignText(_0x383dfb[_0x1f6270(0x19f)],_0x5e9389[0x6])+'|';const _0x5d3b58=_0x383dfb[_0x1f6270(0x1e0)]>=0x0?'+'+_0x383dfb['cashChange'][_0x1f6270(0x168)](0x2):_0x383dfb[_0x1f6270(0x1e0)][_0x1f6270(0x168)](0x2);_0x63689d+=centerAlignText(_0x5d3b58,_0x5e9389[0x7])+'|',console[_0x1f6270(0x13a)](_0x63689d);}),console[_0x1a3697(0x13a)]('='[_0x1a3697(0x1bf)](0x50)),console['log']('|'+centerAlignText('\x20\x20\x20\x20\x20\x20任务执行完成，请查看详细结果\x20\x20\x20\x20\x20\x20',0x4e)+'|'),console[_0x1a3697(0x13a)]('='[_0x1a3697(0x1bf)](0x50));}((async()=>{const _0x18948a=_0x5d9ef0,_0x351b8d=loadAccountsFromEnv();console[_0x18948a(0x13a)]('共找到\x20'+_0x351b8d['length']+'\x20个有效账号');!_0x351b8d[_0x18948a(0x192)]&&process[_0x18948a(0x15e)](0x1);const _0x3856a8=parseInt(process[_0x18948a(0xe4)][_0x18948a(0xd5)]||process[_0x18948a(0xe4)][_0x18948a(0x11d)]||'888',0xa)||0x378,_0x38ba8c=parseInt(process[_0x18948a(0xe4)][_0x18948a(0x14d)]||'35',0xa)||0x23;console['log'](_0x18948a(0xc2)+_0x3856a8+_0x18948a(0x120)+_0x38ba8c+'\x0a');const _0x247334=[];await runConcurrentTasks(_0x351b8d,_0x3856a8,async _0x65e58c=>{const _0x34d565=_0x18948a;console[_0x34d565(0x13a)](_0x34d565(0x112)+_0x65e58c['index']+']'+(_0x65e58c[_0x34d565(0x196)]?'（'+_0x65e58c[_0x34d565(0x196)]+'）':'')+_0x34d565(0xb0));try{const _0x194f8e=await processSingleAccount(_0x65e58c,_0x38ba8c);_0x247334[_0x34d565(0x137)]({'index':_0x65e58c[_0x34d565(0x104)],'remark':_0x65e58c[_0x34d565(0x196)]||_0x34d565(0xdd),'nickname':_0x194f8e?.[_0x34d565(0xb5)]||'未知','initialCoin':_0x194f8e?.[_0x34d565(0xf2)]||0x0,'finalCoin':_0x194f8e?.['finalCoin']||0x0,'coinChange':_0x194f8e?.['coinChange']||0x0,'initialCash':_0x194f8e?.[_0x34d565(0x1a9)]||0x0,'finalCash':_0x194f8e?.['finalCash']||0x0,'cashChange':_0x194f8e?.[_0x34d565(0x1e0)]||0x0,'stats':_0x194f8e?.[_0x34d565(0x1c2)]||{},'coinLimitExceeded':_0x194f8e?.[_0x34d565(0x198)]||![]});}catch(_0x4020c9){console['log'](_0x34d565(0x121)+_0x65e58c['index']+_0x34d565(0x1c0)+_0x4020c9[_0x34d565(0x1e6)]),_0x247334[_0x34d565(0x137)]({'index':_0x65e58c[_0x34d565(0x104)],'remark':_0x65e58c[_0x34d565(0x196)]||_0x34d565(0xdd),'nickname':'执行失败','initialCoin':0x0,'finalCoin':0x0,'coinChange':0x0,'initialCash':0x0,'finalCash':0x0,'cashChange':0x0,'error':_0x4020c9[_0x34d565(0x1e6)]});}}),_0x247334['sort']((_0x9a4571,_0x467a66)=>_0x9a4571[_0x18948a(0x104)]-_0x467a66[_0x18948a(0x104)]),console['log']('\x0a全部完成。','✅'),console[_0x18948a(0x13a)](_0x18948a(0x15b)),printSummaryReport(_0x247334);})());
